<head>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
</head> 
<section class="page-section"> 
<div class="container">
	<div class="d-flex justify-content-center h-100">
		<div class="card">
			<div class="card-header">
				<h3>Connexion</h3>
			
      </div>
      <div *ngIf="isLoggedIn; else loggedOut">
        <a class="nav-link" routerLink="/user"> Acceder à votre espace </a>
       </div>
      <ng-template #loggedOut>
			<div class="card-body">
				<form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
          <div class="form-group">
            <label for="username">Nom utilisateur</label>
            <input type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel"
              required />
            <div *ngIf="f.submitted && username.invalid">
              <div *ngIf="username.errors.required">Nom d'utilisateur est obligatoire</div>
            </div>
          </div>
          <div class="form-group">
            <label for="password">Mot de passe</label>
            <input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel"
              required minlength="6" />
            <div *ngIf="f.submitted && password.invalid">
              <div *ngIf="password.errors.required">Le mot de passe est obligatoire</div>
              <div *ngIf="password.errors.minlength">Le mot de passe doit contenir 5 caractères minimum</div>
            </div>
          </div>
					
					<div class="form-group">
            <button class="btn btn-primary">Se connecter</button>
            <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger">
              Login failed: {{errorMessage}}
            </div>
          </div>
          <div class="d-flex justify-content-center links">
          <p>Pas encore de compte?</p>
          <a href="signup" >Enregistrez-vous</a>
        </div>
        </form>
      </div>
    </ng-template>
			</div>
		
		</div>
  </div>
</section>
  


